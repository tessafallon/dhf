<% unless flash.empty? %>
  <div class="alert alert-error"><%= flash[:alert] %></div>
<% end %>

<h2>Sign in</h2>
<%= form_for(resource, :as => resource_name, :url => session_path(resource_name), 
  html: {class: "form-horizontal"}) do |f| %>
  
  <div class="control-group <% if resource.errors.include?(:email) %>error<% end %>">
    <div class="control-label">
      <%= f.label :email %>
      <% if resource.errors.include?(:email) %><p class="help-block"><%= resource.errors[:email] %></p><% end %>
    </div>
    <div class="controls"><%= f.email_field :email %></div>
  </div>

  <div class="control-group <% if resource.errors.include?(:password) %>error<% end %>">
    <div class="control-label">
      <%= f.label :password %>
      <% if resource.errors.include?(:password) %><p class="help-block"><%= resource.errors[:password] %></p><% end %>
    </div>
    <div class="controls"><%= f.password_field :password %></div>
  </div>

  <% if devise_mapping.rememberable? -%>
    <div class="control-group">
      <div class="control-label"><%= f.label :remember_me %></div>
      <div class="controls"><%= f.check_box :remember_me %></div>
    </div>
  <% end -%>

  <div class="control-group">
    <div class="controls"><%= f.submit "Sign in", class: "btn" %></div>
  </div>
<% end %>

<%= render :partial => "devise/shared/links" %>